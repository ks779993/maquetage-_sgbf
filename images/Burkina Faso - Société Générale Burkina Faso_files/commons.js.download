(function(){function d(o,s,r){function l(i,e){if(!s[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[i]={exports:{}};o[i][0].call(a.exports,function(e){var t=o[i][1][e];return l(t||e)},a,a.exports,d,o,s,r)}return s[i].exports}for(var c="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}return d})()({1:[function(e,t,i){"use strict";var m=e("./modules/onePageModeMenu");var p=e("./modules/verticalAnchorMenu");var v=e("./modules/anchors");var g=e("./modules/scrollAnimations");var b=e("./modules/headerProducts");var C=e("./modules/contactFormOverlay");var _=e("./modules/debug");var y=e("./modules/keyFigure");if($(".subHeader").is(":visible")){var n=$(".subHeader").height()}else{n=0}var a=0;function w(){$(".btnZoom__large").click(function(){if(a==0){$("body").addClass("zoom_level_1");a++}else if(a==1){$("body").removeClass("zoom_level_1").addClass("zoom_level_2");a++}else if(a==2){$("body").removeClass("zoom_level_2").addClass("zoom_level_3");a++}});$(".btnZoom__small").click(function(){if(a==1){$("body").removeClass("zoom_level_1");a--}else if(a==2){$("body").removeClass("zoom_level_2").addClass("zoom_level_1");a--}else if(a==3){$("body").removeClass("zoom_level_3").addClass("zoom_level_2");a--}});$(".btnZoom__normal").click(function(){if(a==1){$("body").removeClass("zoom_level_1")}else if(a==2){$("body").removeClass("zoom_level_2")}else if(a==3){$("body").removeClass("zoom_level_3")}a=0})}function x(){$(".fixedheader").css("top",n-$(".fixedheader").height());if($(".mainTitle").size()){var e=$(".mainTitle").html();if(e.length>53){e=e.substring(0,53)+"..."}$(".fixedheader .container .fakeh1").html(e)}}function k(){$(".fixedheader").css("top",n);$(".fixedheader").addClass("active")}function T(){$(".fixedheader").css("top",n-$(".fixedheader").height());$(".fixedheader").removeClass("active")}function M(){if($(document).width()<768){$("body").addClass("mobile")}if($(document).width()>=768&&$(document).width()<992){$("body").addClass("tabletV")}var e=new TimelineMax;e.to(".subHeader",1,{autoAlpha:1,display:"block"});e.pause();$(".menuBurger a").on("click",function(){$("body").removeClass("navOpen")});$(".bt-menu-trigger").click(function(){if($(this).attr("aria-expanded")=="false"){$(this).attr("aria-expanded","true")}else{$(this).attr("aria-expanded","false")}$(this).toggleClass("is-active");$("body").toggleClass("navOpen noscroll");if(gbis.isHamburgermenu&&gbis.isTransparentHeader){if($("body").hasClass("navOpen")){$("body").addClass("logoWhite")}else{if(!gbis.initLogoWhite){$("body").removeClass("logoWhite")}}}});if(gbis.isHamburgermenu){$("#menu_accessible--menu").on("click",function(e){e.preventDefault();$(".bt-menu-trigger").trigger("click");$(".menuBurger a").eq(0).focus();return false});$("#menu_accessible--search").on("click",function(e){e.preventDefault();$(".bt-menu-trigger").trigger("click");$('#form-search input[type="search"]').focus();return false})}else{$("#menu_accessible--menu").on("click",function(e){e.preventDefault();$(".topHeader .firstMenu .active a").eq(0).focus();return false});$("#menu_accessible--search").on("click",function(e){e.preventDefault();$(".sb-search").trigger("click");$('#form-search input[type="search"]').focus();return false})}if(!$("body").hasClass("hamburgermenu")){if(gbis.isHeaderOneLine){var t=$(".mainHeader--menu").html()}else{var t=$(".subHeader nav").html()}$(".navmobileMenu").html(t);$(".navmobileSearch").html($("header .sb-search").html());$(".navmobileTopMenu").html($(".topHeader .firstMenuWrap").html());$("#super_header--mobile").prependTo("#navmobile");$("#super_header--mobile").on("change",function(){window.location.href=$(this).val()});var i=["name","id","for"];$(".navmobileSearch #tx_indexedsearch, .navmobileSearch #tx_indexedsearch label, .navmobileSearch #tx_indexedsearch #searchForm").each(function(){for(var e=0;e<i.length;e++){if($(this).attr(i[e])==undefined||$(this).attr("id")=="searchForm"&&i[e]=="name")continue;var t=$(this).attr(i[e]);$(this).attr(i[e],t+"_mob")}});$(".navmobile .sb-icon-search").click(function(){$("#tx_indexedsearch_mob").submit()});if($(".pickListHeader").children().size()){$(".navmobile").append($(".pickListHeader").clone());$(".navmobile .pickListHeader").removeClass("hidden-xs hidden-sm")}if($(".langList").children().size()){$(".navmobileLang").html('<div class="navmobileLangSelect">'+$(".navmobileLang").data("label")+" : <ul></ul></div>");$(".langList li").each(function(){$(".navmobileLangSelect ul").append($(this).clone())})}}if(gbis.is2015){if($(".clientBtn").children().size()&&isMobile()){$(".clientAccessHeader").html('<div class="clientAccessHeaderSub row"><div class="col-xs-5 baseline">'+$(".mobileBaseline").html()+'</div><div class="col-xs-7 mobileClientBtnWrap">'+$(".clientBtn").html()+"</div></div>")}}if(!isMobile()){$(".bioList__mini, .signatureList").each(function(){if($(this).parents(".videoSingle_authors").length===0){var i=$(this).find(".signatureContent");var n,a;i.each(function(e){if((e+1)%2==0&&e>0){n=i.eq(e-1);a=$(this);var t=Math.max(n.outerHeight(),a.outerHeight());n.css("height",t);a.css("height",t)}})}})}}function P(){if($(".ongletV").length){$(".aside").prepend('<ul class="sideMenu" id="addedSideMenu">');$(".ongletV .mainCol .ttcContent").wrapAll('<div class="owl-carousel" id="mainContentCarousel">');$(".ongletV .mainCol .ttcContent").each(function(e){if($(this).hasClass("hideInPageDisposition1")){if(e==0){$("#mainContentCarousel").before($(this))}else{$("#mainContentCarousel").after($(this))}}else{$("#addedSideMenu").append('<li><a href="#">'+$(this).find("h2").html()+"</a></li>")}});var t=$("#mainContentCarousel").owlCarousel({autoPlay:false,stopOnHover:true,navigation:false,paginatio:false,goToFirstSpeed:2e3,singleItem:true,autoHeight:true,afterMove:function e(t,i){$(".owl-pagination .owl-page").each(function(e){if($(this).hasClass("active")){$("#addedSideMenu li").eq(e).addClass("active")}else{$("#addedSideMenu li").eq(e).removeClass("active")}})}}).data("owlCarousel");$("#addedSideMenu li:first-child").addClass("active");$("#addedSideMenu li a").each(function(e){$(this).click(function(){t.goTo(e);$("#addedSideMenu li").removeClass("active");$(this).parent("li").addClass("active");return false})})}}function O(){var e=$("#clientBtnDropDown").width();if($("#client_access_menu").width()<e-20){$("#client_access_menu").css("width",e)}}var S=function(){function n(){$(".shareBtn__row__btn").each(function(){var e=$(this).collidesWith($(".ttcContent--dark"));if(e.length){$(this).addClass("onDarkBg")}else{$(this).removeClass("onDarkBg")}})}function e(){var e=this;var t=$(".contentHeader").height()-250;var i=$(".shareBtn--pb2019");if($(".homePageCarrousel").length>0){t=300}if(t<100)t=50;window.addEventListener("scroll",function(e){if(i){n()}if($(document).scrollTop()>200){$("body").addClass("isScrolled")}else{$("body").removeClass("isScrolled")}if($(document).scrollTop()>t){$("body").addClass("transparentHeader--scrolled");if(gbis.initLogoWhite){$("body").removeClass("logoWhite")}}else{$("body").removeClass("transparentHeader--scrolled");if(gbis.initLogoWhite){$("body").addClass("logoWhite")}}})}return{init:e}}();function H(){$(".tx_powermail_pi1_form input:checkbox").click(function(){$(this).parent().parent().find("input:checkbox").blur();var e=$(this).attr("id");var t=e.replace(/check_/,"value_");var i=e.replace(/check_/,"");$("#"+i).val($(this).is(":checked")?$("#"+t).val():"")})}$(document).ready(function(){x();M();P();pistilMainMenu.init();O();initTracking();w();$(".overflow--left, .overflow--right").contentOverflow();var e=new m;var t=new p;var i=new v;var n=new g;var a=new b;var o=new C;var s=new _;var r=new y;initAddthisGaEvents(".addthis_toolbox a");initCardsGaEvents();initVideoGaEvents();initDceGaEvents();initImportFundsGaEvents();initContentsAssets();H();$(".jarallax").jarallax({speed:.2});$(".dce-verticalTabs").SGVerticalTabs();if(!gbis.isNvbq){$("h1, .movingLineV2").SGMovingLine()}$(".resetDisclaimer a, .resetDisclaimer").click(function(e){e.stopPropagation();$.cookie("disclaimer",null,{path:"/"});$.cookie("disclaimerDatas",null,{path:"/"});launchDisclaimer();return false});if(gbis.isTransparentHeaderImmersive){$(".headerImage").headerImmersive()}S.init();$(".sgnews_single_content .addeventatc").on("click",function(){gaTrackEvent({hitType:"event",eventCategory:"Calendar",eventAction:"click",eventLabel:"Add to Calendar News"})});$(".tx-dce-pi1 .addeventatc").on("click",function(){gaTrackEvent({hitType:"event",eventCategory:"Calendar",eventAction:"click",eventLabel:"Add to Calendar DCE"})});new cbpScroller(document.getElementsByTagName("body")[0]);if(!$("body").hasClass("hamburgermenu")){new UISearch(document.getElementById("sb-search"))}if((isMobile()||gbis.isHamburgermenu)&&!gbis.isOnePageMenu&&!gbis.isHeaderOneLine){$("header.mainHeader").scrollToFixed({spacerClass:"mainHeaderSpacerClass",marginTop:0})}if(!gbis.isHamburgermenu&&!isMobile()&&!isTabletV()&&haveCss()&&!gbis.isOnePageMenu){$(".subHeader").scrollToFixed({spacerClass:"spacerClass",fixed:function e(){if(!haveCss()){$(".subHeader").attr("style","")}}});$("main h1").not(".accessi").scrollToFixed({marginTop:-$("main h1").height(),unfixed:function e(){T()},fixed:function e(){k()}})}if($(".aside").size()&&gbis.enabledFixedSideBar){$(".aside").scrollToFixed({marginTop:135,removeOffsets:true,zIndex:70,limit:$(".contentFooter").offset().top-$(".aside").outerHeight()-50})}if($(".asideFromPlugin").size()&&gbis.is2018&&gbis.enabledFixedSideBar){var l=$(".contentFooter").offset().top;if($(".ttcContent_fullwidth").size()){l=$(".ttcContent_fullwidth").eq(0).offset().top}$(".asideFromPlugin").scrollToFixed({marginTop:50,removeOffsets:true,zIndex:70,preFixed:function e(){$(".asideFromPlugin").parent("div").addClass("empty");TweenMax.to(".asideFromPlugin",.5,{alpha:0,onComplete:function e(){$(".asideFromPlugin").addClass("corner");TweenMax.fromTo(".asideFromPlugin",.5,{alpha:0,xPercent:100},{ease:Expo.easeOut,alpha:1,delay:.5,xPercent:0})}})},preUnfixed:function e(){$(".asideFromPlugin").parent("div").removeClass("empty");$(".asideFromPlugin").removeClass("corner")}})}$(".langList a").focusin(function(){$(this).parents(".langList").addClass("open")});$(".langList li:last-child a").focusout(function(){$(this).parents(".langList").removeClass("open")});$(".langList").mouseover(function(){$(this).addClass("open")});$(".langList").mouseleave(function(){$(this).removeClass("open")});$(".customSelect").easyDropDown({cutOff:10,wrapperClass:"myDropDown"});$(".disclaimerContent, .archives-toggle-list").mCustomScrollbar({autoExpandScrollbar:true,theme:"dark-thick"});$(".archives-toggle-wrapper .archives-toggle-btn").click(function(){$(this).next().parent().toggleClass("on");$(this).next().slideToggle("fast")});$.stellar({horizontalScrolling:false,verticalOffset:100});$(".topLink").click(function(){$("html, body").animate({scrollTop:0},800);$(".mainLogo a").focus();return false});eModal.setEModalOptions({fixedHeader:true,loadingHtml:'<span class="fa fa-circle-o-notch fa-spin fa-3x text-primary"></span><span class="h4">Loading</span>'});if($(".noboxed .tx-biimgcarrousel-pi1").size()>0){$(".noboxed .tx-biimgcarrousel-pi1 .carrouselCard").addClass("noboxedSlider");$(".noboxed .tx-biimgcarrousel-pi1").parents(".mainCol").find(".ttcContent:nth-child(2)").addClass("afterSlider")}$(".tx-bisgsummary-pi3").cardWall();$(".tx-dce-pi1").cardWall();$(".wallCard").cardWall();$(".bioListItems").cardWall({cardItem:".vcard",addSpinnerOnCard:false});$(".isotopeContainer").cardWall({cardItem:".card",addSpinnerOnCard:false});$(".bioIsotope").cardWall({cardItem:".bioIsotope__item",addSpinnerOnCard:false});$(".bioSidebarSlider").cardWall({cardItem:".bioSidebarSlider__item",addSpinnerOnCard:false});$(".wallCard--slider").cardWall({cardItem:".card"});$(".pictoCard").click(function(){if($(this).data("href")!=undefined){document.location.href="/"+$(this).data("href")}});$(".tx-bilinksblock-pi1 li:last-child").addClass("last");$(".pickListHeader").on("mouseenter",function(){$(this).addClass("opened")}).on("mouseleave",function(){$(this).removeClass("opened")});$(".pickListHeader > a").on("focus",function(){$(this).parent().addClass("opened")});$(".pickListHeader li:last-child a").on("blur",function(){$(this).parents(".pickListHeader").removeClass("opened")});if($("#popinContent .popinContentWrap").children().size()){$.cookie.json=true;var c=$.cookie("validatedPopin")!=undefined?$.cookie("validatedPopin"):[];var d=false;for(var u=0;u<c.length;u++){if(c[u]==$(".popinContentWrap").find(".ttcContent > div").attr("id")){d=true}}if(!d){$("body").addClass("modalIn");$.magnificPopup.open({closeOnBgClick:false,items:{src:$("#popinContent .popinContentWrap"),type:"inline"}});$(".popinContentWrap #closePopin").click(function(){$("body").removeClass("modalIn");c.push($(this).parents(".popinContentWrap").find(".ttcContent > div").attr("id"));$.cookie("validatedPopin",c,{expires:365,path:"/"});$.magnificPopup.close()})}}if($("#clientCoFrame").size()){setInterval(function(){$("#clientCoFrame").attr("src",$("#clientCoFrame").attr("src"))},6e5)}$(".addthis_button_print").on("click",function(){window.print();return false});$(document).on("keydown",function(e){if(e.which==13){if($(":focus").hasClass("card")||$(":focus").hasClass("vcard")){e.preventDefault();$(":focus").trigger("click")}if($(":focus").hasClass("owl-page")){$(":focus").trigger("mouseup")}}});$(".tx-powermail-pi1_formwrap input, .tx-powermail-pi1_formwrap select, .tx-powermail-pi1_formwrap textarea").each(function(){if($(this).attr("tabindex")){$(this).attr("tabindex",0)}});var f=false;$("#cccwr #ccc-icon button").click(function(){if(!f){f=true;$(this).find("img").attr("alt",$(this).find("img").data("openedlabel"))}else{f=false;$(this).find("img").attr("alt",$(this).find("img").data("closedlabel"))}});var h=setInterval(function(){if($(".gsc-resultsbox-visible").size()){$(".gsc-control-cse img").each(function(){if(!$(this).attr("alt")){$(this).attr("alt","")}});$(".gsc-control-cse iframe").each(function(){if(!$(this).attr("title")){$(this).attr("title","Google search iframe")}});clearInterval(h)}},200);$(".wallCard--webinarsAndParoles-slider .wallInsights").owlCarousel({loop:true,margin:22,navigation:true,items:3,itemsMobile:[670,1],itemsDesktop:[1199,3],itemsDesktopSmall:[992,2]});$("textarea").on("keydown",function(e){var t=$(this);setTimeout(function(){t.css("height","auto");t.css("height",t.get(0).scrollHeight+1+"px")},0)});$(".powermail_form").each(function(){if($(this).parsley()!==undefined){$(this).parsley().on("form:submit",function(e){this.element.classList.add("--submited");return true})}});window.Parsley.on("field:error",function(){this.$element.attr("aria-describedby",this._ui.errorsWrapperId).attr("aria-invalid","true")});window.Parsley.on("field:success",function(){this.$element.removeAttr("aria-describedby")})})},{"./modules/anchors":2,"./modules/contactFormOverlay":3,"./modules/debug":4,"./modules/headerProducts":5,"./modules/keyFigure":6,"./modules/onePageModeMenu":7,"./modules/scrollAnimations":8,"./modules/verticalAnchorMenu":9}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function i(){var t=this;n(this,i);console.debug("Anchors : Construct");var e=this;window.onhashchange=function(){e.scrollToAnchor(window.location.hash)};if(window.location.hash){this.scrollToAnchor(window.location.hash)}$(document).ready(function(){var e=document.location.hash;if(e){t.scrollToAnchor(e)}});$(".headerScrollBottom").on("click",function(){t.scrollHeaderFH()})}o(i,[{key:"scrollHeaderFH",value:function e(){var t=$(".contentHeaderFH").height();if($(".headerProducts").length){t=$(".headerProducts").height()}$("html, body").stop().animate({scrollTop:t},1e3)}},{key:"ajustAnchor",value:function e(t){var i=150;if(gbis.isOnePageMenu){i=100}var n=$(t);if(n.length){$("html, body").stop().animate({scrollTop:n.offset().top-i},750)}}},{key:"scrollToAnchor",value:function e(t){var i=$('[data-anchor="'+t+'"]');if(i.length){var n=750;var a=$(".fixedheader.active").height()+150;$("html, body").animate({scrollTop:i.offset().top-a},n)}}}]);return i}();t.exports=s},{}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function e(){n(this,e);console.debug("ContactFormOverlay : Construct");if($(".contactFormOverlay").length){this.init()}}o(e,[{key:"init",value:function e(){var t=this;this.isLogoWhite=$("body").hasClass("logoWhite");$(".mainMenuOneLine--contact, .shareBtn__row__btn--contact").on("click",function(){t.open();return false});$(".contactFormOverlay__close").on("click",function(){t.close()});if(document.location.href.indexOf("tx_powermail_pi1")>=0){this.open()}}},{key:"open",value:function e(){$("body").addClass("noscroll");if(!this.isLogoWhite)$("body").addClass("logoWhite");TweenMax.set(".contactFormOverlay",{display:"block"});$(".contactFormOverlay__right .h2").SGMovingLine();if(isMobile()){TweenMax.to(".contactFormOverlay",.5,{xPercent:100,ease:Expo.easeInOut})}else{TweenMax.to(".contactFormOverlay__left",.5,{yPercent:100,ease:Expo.easeInOut});TweenMax.to(".contactFormOverlay__right",.5,{yPercent:-100,ease:Expo.easeInOut})}}},{key:"close",value:function e(){$("body").removeClass("noscroll");if(!this.isLogoWhite)$("body").removeClass("logoWhite");if(isMobile()){TweenMax.to(".contactFormOverlay",.5,{xPercent:0,ease:Expo.easeInOut,onComplete:function e(){TweenMax.set(".contactFormOverlay",{display:"none"})}})}else{TweenMax.to(".contactFormOverlay__left",.5,{yPercent:0,ease:Expo.easeInOut});TweenMax.to(".contactFormOverlay__right",.5,{yPercent:0,ease:Expo.easeInOut,onComplete:function e(){TweenMax.set(".contactFormOverlay",{display:"none"})}})}}}]);return e}();t.exports=s},{}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function e(){n(this,e);console.debug("Debug : Construct");$(".debugBar__moreBtn").on("click",function(){$(".debugBar__more").slideToggle()});$(".debugBar__cat").on("click",function(){$(this).next(".debugBar__content").slideToggle()})};t.exports=a},{}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function e(){n(this,e);console.debug("HeaderProducts : Construct");if($(".headerProducts").length){this.init()}}o(e,[{key:"init",value:function e(){var t=this;console.debug("HeaderProducts : init");var i=this;this.$header=$(".headerProducts");this.$label=$(".headerProducts__select__label");this.$choices=$(".headerProducts__select__choices");this.$choicesItem=$(".headerProducts__select__choices__item");this.$bgs=$(".headerProducts__backgrounds__item");this.initLabel=this.$label.html();this.$header.on("click",function(){t.closeChoices()});$(".headerProducts__select__label").on("click",function(e){e.stopPropagation();t.openChoices()});this.$choicesItem.on("click",function(){i.selectChoice($(this).data("uid"))});this.selectBg()}},{key:"selectBg",value:function e(){console.debug("HeaderProducts : selectBg");console.debug(this.$bgs);var t=Math.floor(Math.random()*Math.floor(this.$bgs.length));var i=this.$bgs.eq(t);i.show();changeHeaderLogo(i.data("headercolor"));this.$header.addClass("headerProducts--"+i.data("contentcolor"))}},{key:"selectChoice",value:function e(t){console.debug("HeaderProducts : selectChoice",t);$(".headerProducts__select__projects__item").hide();$(".headerProducts__select__projects__item[data-uid="+t+"]").show();this.$label.html($(".headerProducts__select__choices__item[data-uid="+t+"]").html());this.closeChoices()}},{key:"openChoices",value:function e(){console.debug("HeaderProducts : openChoices");TweenMax.set(this.$choices,{display:"block",alpha:0});TweenMax.fromTo(this.$choices,.5,{alpha:0,y:10},{alpha:1,y:0})}},{key:"closeChoices",value:function e(){var t=this;var i=this;TweenMax.to(this.$choices,.5,{alpha:0,y:10,onComplete:function e(){t.$choices.hide()}})}}]);return e}();t.exports=s},{}],6:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function e(){n(this,e);$(".keyfigure .count").each(function(){$(this).onScreen({container:window,direction:"vertical",doIn:function e(){if(!$(this).hasClass("animated")){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:4e3,easing:"swing",step:function e(t){$(this).text(Math.ceil(t))}})}$(this).addClass("animated")},doOut:function e(){}})});$(".colored .keyfigure").each(function(){var e=$(this).closest(".ttcContent");e.addClass("--nopadding")})};t.exports=a},{}],7:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function e(){n(this,e);console.debug("OnePageModeMenu : Construct");this.init()}o(e,[{key:"init",value:function e(){console.debug("OnePageModeMenu : init");this.$container=$(".onePageMenu--automatic");if(this.$container.length===0)return;this.getSections();this.build();this.$container.scrollToFixed({spacerClass:"spacerClass"})}},{key:"getSections",value:function e(){this.sections=[];var i=this;$(".grid100").each(function(e){if($(this).parents(".nomenu").length===0){var t=$(this).prev().html();if(GBIS.frontend_editing){t=$(this).prev().deepest().html()}if(t!==undefined){t=t.trim();if(t!==""){i.sections.push({title:t,elt:$(this),link:document.location.origin+document.location.pathname+"#"+$(this).parent(".frame").attr("id")})}}}$(this).prev().addClass("ce-headline-center")})}},{key:"build",value:function e(){var i=this;if(this.sections){this.sections.forEach(function(t){var e=$("<a>",{class:"onePageMenu__item",href:t.link,html:$("<span>",{text:t.title})});$(e).on("click",function(e){e.preventDefault();$("html, body").stop().animate({scrollTop:t.elt.prev().offset().top-100},1e3)});i.$container.append(e)})}}}]);return e}();t.exports=s},{}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function t(){n(this,t);console.debug("ScrollAnimations : Construct");this.controller=new ScrollMagic.Controller;this.$selfAnimated=$(".ttcContent_selfAnimated");this.$childrenAnimated=$(".ttcContent_childrenAnimated");var e=this;if(this.$selfAnimated.length){this.$selfAnimated.each(function(){e.applyScene(this)})}if(this.$childrenAnimated.length){this.$childrenAnimated.each(function(){e.applyScene(this)})}}o(t,[{key:"applyScene",value:function e(t){var i=$(t).prev().get(0);$(t).addClass("ttcContent_animated");new ScrollMagic.Scene({triggerElement:i,triggerHook:.85,duration:"300%",offset:50}).setClassToggle(t,"ttcContent_visible").addTo(this.controller)}}]);return t}();t.exports=s},{}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)a(e.prototype,t);if(i)a(e,i);return e}var s=function(){function e(){n(this,e);console.debug("VerticalAnchorMenu : Construct");if(!$("body").hasClass("hasVerticalAnchorMenu")){return}this.init()}o(e,[{key:"init",value:function e(){console.debug("VerticalAnchorMenu : init");this.$container=$(".sideCol");if(this.$container.length===0){console.error("VerticalAnchorMenu activée, mais sans le gabarit de side bar (.sideCol)");return}this.getSections();this.build()}},{key:"getSections",value:function e(){this.sections=[];var t=this;$(".mainCol h2").each(function(e){t.sections.push({title:$(this).html(),elt:$(this)})})}},{key:"build",value:function e(){var i=this;if(this.sections){this.$menu=$("<div>",{class:"verticalAnchorMenu"});this.$container.prepend(this.$menu);this.sections.forEach(function(t){var e=$("<a>",{class:"verticalAnchorMenu__item",href:t.link,html:$("<span>",{text:t.title})});$(e).on("click",function(e){$(this).addClass("active").siblings().removeClass("active");e.preventDefault();$("html, body").stop().animate({scrollTop:t.elt.offset().top-120},1e3)});i.$menu.append(e)});var t=$("footer").offset().top;console.debug("offset",t);if($(".footerTopContent").length){t=$(".footerTopContent").offset().top;console.debug("offset",t)}var n=verge.rectangle(".mainCol");this.$menu.scrollToFixed({spacerClass:"spacerClass",marginTop:150,limit:verge.rectangle($(".mainCol")).bottom-this.$menu.outerHeight()-150,removeOffsets:true})}}}]);return e}();t.exports=s},{}]},{},[1]);
//# sourceMappingURL=commons.js.map
